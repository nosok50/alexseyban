<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alexsey Ban | Technical Game Designer</title>
    
    <meta property="og:title" content="Alexsey Ban | Game Designer">
    <meta property="og:description" content="I design engaging loops, balance economies, and build rapid prototypes.">
    <meta property="og:image" content="preview.png">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://alexseyban.space"> 
    
    <!-- Twitter Card data -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Alexsey Ban | Game Designer">
    <meta name="twitter:description" content="I design engaging loops, balance economies, and build rapid prototypes.">
    <meta name="twitter:image" content="preview.png">
    
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;600;700;800&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                fontFamily: {
                    sans: ['Manrope', 'sans-serif'],
                    mono: ['Space Mono', 'monospace'],
                },
                extend: {
                    animation: {
                        'blob': 'blob 10s infinite',
                        'blur-in-up': 'blurInUp 1.2s cubic-bezier(0.16, 1, 0.3, 1) forwards',
                        'dive-in': 'diveIn 0.8s cubic-bezier(0.6, 0, 0.2, 1) forwards',
                        'dive-out': 'diveOut 0.8s cubic-bezier(0.6, 0, 0.2, 1) forwards',
                        'appear-zoom': 'appearZoom 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards',
                    },
                    keyframes: {
                        blob: {
                            '0%': { transform: 'translate(0px, 0px) scale(1)' },
                            '33%': { transform: 'translate(30px, -50px) scale(1.1)' },
                            '66%': { transform: 'translate(-20px, 20px) scale(0.9)' },
                            '100%': { transform: 'translate(0px, 0px) scale(1)' },
                        },
                        blurInUp: {
                            '0%': { opacity: '0', transform: 'translateY(40px)', filter: 'blur(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)', filter: 'blur(0)' },
                        },
                        diveIn: {
                            '0%': { opacity: '1', transform: 'scale(1) translateY(0)' },
                            '50%': { opacity: '0.8' },
                            '100%': { opacity: '0', transform: 'scale(1.5) translateY(-50px)' },
                        },
                        appearZoom: {
                            '0%': { opacity: '0', transform: 'scale(0.95) translateY(30px)' },
                            '100%': { opacity: '1', transform: 'scale(1) translateY(0)' }
                        },
                        diveOut: {
                            '0%': { opacity: '1', transform: 'scale(1)' },
                            '100%': { opacity: '0', transform: 'scale(0.9)' }
                        }
                    }
                }
            }
        }
    </script>
    
    <!-- React & Babel -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        /* Custom smooth scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #161616; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #555; }
        
        /* Cursor hide logic for desktop */
        @media (min-width: 768px) {
            body { cursor: none; }
            a, button, .cursor-pointer { cursor: none; }
        }

        /* --- PROGRESSIVE BLUR STYLES --- */
        .blur-container {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1;
            overflow: hidden;
            pointer-events: none;
        }
        .blur-layer {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            transform: translate3d(0, 0, 0); 
        }
        /* Gradient Masks for "fading" blur */
        .blur-layer:nth-child(1) { backdrop-filter: blur(1px); -webkit-backdrop-filter: blur(1px); mask-image: linear-gradient(to bottom, black 0%, black 85%, transparent 100%); -webkit-mask-image: linear-gradient(to bottom, black 0%, black 85%, transparent 100%); }
        .blur-layer:nth-child(2) { backdrop-filter: blur(2px); -webkit-backdrop-filter: blur(2px); mask-image: linear-gradient(to bottom, black 0%, black 70%, transparent 85%); -webkit-mask-image: linear-gradient(to bottom, black 0%, black 70%, transparent 85%); }
        .blur-layer:nth-child(3) { backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px); mask-image: linear-gradient(to bottom, black 0%, black 55%, transparent 70%); -webkit-mask-image: linear-gradient(to bottom, black 0%, black 55%, transparent 70%); }
        .blur-layer:nth-child(4) { backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px); mask-image: linear-gradient(to bottom, black 0%, black 35%, transparent 55%); -webkit-mask-image: linear-gradient(to bottom, black 0%, black 35%, transparent 55%); }
        .blur-layer:nth-child(5) { backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); mask-image: linear-gradient(to bottom, black 0%, black 15%, transparent 35%); -webkit-mask-image: linear-gradient(to bottom, black 0%, black 15%, transparent 35%); }
        .blur-layer:nth-child(6) { backdrop-filter: blur(16px); -webkit-backdrop-filter: blur(16px); mask-image: linear-gradient(to bottom, black 0%, black 0%, transparent 15%); -webkit-mask-image: linear-gradient(to bottom, black 0%, black 0%, transparent 15%); }
        
        .blur-noise {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1; opacity: 0.08; pointer-events: none;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
            mask-image: linear-gradient(to bottom, black 0%, black 85%, transparent 100%);
            -webkit-mask-image: linear-gradient(to bottom, black 0%, black 85%, transparent 100%);
        }

        .no-scroll { overflow: hidden; }
        
        /* Slider Handle Styles */
        .slider-handle {
            /* High contrast border/shadow to ensure visibility on white/dark bg */
            box-shadow: 0 0 10px rgba(0,0,0,0.8), 0 0 2px rgba(255,255,255,0.5);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel" data-presets="react">
        const { useState, useEffect, useRef } = React;

        // --- ICONS ---
        const IconArrowRight = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>
        );
        const IconGithub = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>
        );
        const IconLinkedin = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg>
        );
        const IconSend = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>
        );
        const IconExternalLink = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>
        );
        const IconChevronLeft = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polyline points="15 18 9 12 15 6"></polyline></svg>
        );
        const IconPlay = ({ className, fill }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill={fill || "none"} stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
        );
        const IconGlobe = ({ className }) => (
             <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>
        );

        // --- APP COMPONENT ---
        const PortfolioApp = () => {
          const [view, setView] = useState('home');
          const [activeProject, setActiveProject] = useState(null);
          const [loading, setLoading] = useState(true);
          const [transitionStage, setTransitionStage] = useState('idle'); 
          const [cursorPos, setCursorPos] = useState({ x: -100, y: -100 });
          const [cursorHovered, setCursorHovered] = useState(false);
          
          // --- UPDATED PROJECT DATA (ORDER: MINELAND, YIELDIUM, ECOCITY) ---
          const projects = [
            {
              id: 'mineland',
              title: 'Mineland',
              subtitle: 'High-Load MMO Server',
              logo: 'MinelandLogo.png',
              image: 'MinelandTitle.png', 
              detailImage: 'MinelandAfter.png', 
              tags: ['1000+ Online', 'LiveOps', 'Multiplayer', 'Level Design'],
              description: 'Multiplayer World with 1000+ Concurrent Players. Managed LiveOps strategy for a large-scale multiplayer server with 100k daily visitors. Responsible for player retention through a strict content pipeline: weekly events, seasonal updates, and economy balancing.',
              role: 'LiveOps Manager & Game Designer',
              toolkit: ['Excel (Balancing)', 'GitLab', 'Shell', 'WorldEdit'],
              technicalDetails: [
                  'LiveOps Pipeline: Synchronized content drops with monetization events to stabilize DAU.',
                  'Economy Control: Monitored inflation and adjusted drop rates to maintain market health.',
                  'Social Mechanics: Designed clan systems and cooperative challenges to boost long-term retention.'
              ],
              screenshots: ['MinelandScreen1.png', 'MinelandScreen2.png', 'MinelandScreen3.png', 'MinelandScreen4.png'],
              links: { site: 'https://mineland.net' } 
            },
            {
              id: 'yieldium',
              title: 'Yieldium',
              subtitle: 'Gamification Layer for Fintech App',
              logo: 'YieldiumLogo.png', 
              image: 'YieldiumTitle.png',
              tags: ['Gamification', 'Fintech', 'Economy Model', 'System Design'], 
              description: 'Designed a comprehensive progression system for an investment platform to increase user retention (LTV). Transformed routine financial actions into engaging gameplay loops using achievements, levels, and rewards. Created the mathematical model for the reward economy.',
              role: 'System Game Designer',
              toolkit: ['Figma', 'Excel (Math Modeling)', 'Notion', 'Miro'],
              technicalDetails: [
                  'Designed "Hero\'s Journey" user flows to guide new investors.',
                  'Modeled economic impact of rewards on the project\'s burn rate.'
              ],
              slider: {
                  before: 'YieldiumBefore.png',
                  after: 'YieldiumAfter.png'
              },
              screenshots: ['YieldiumScreen1.png', 'YieldiumScreen2.png', 'YieldiumScreen3.png'],
              links: {}
            },
            {
              id: 'eco-city',
              title: 'Eco City Inc.',
              subtitle: 'Mobile Economic Strategy',
              logo: 'EcoCityLogo.png',
              image: 'EcoCityTitle.png', 
              tags: ['Solo', '50k+ Organic Installs', 'Mobile Game', 'Unity 6'],
              description: 'Designed and developed a mobile city-building strategy from scratch. Focused on creating an addictive core loop and intuitive UI for casual players. The project achieved significant market success with over 50,000 organic installs on Google Play without a marketing budget.',
              role: 'Game Designer & Prototyper',
              toolkit: ['Solo', 'Unity (C#)', 'Figma', 'Google Play Console'],
              technicalDetails: [
                  'Full-cycle development: from GDD to Release.',
                  'Implemented grid-based building systems and resource management logic.',
                  'Analyzed player feedback to iterate on UI/UX, improving session length.'
              ],
              slider: {
                  before: 'EcoCityBefore.png',
                  after: 'EcoCityTitle.png'
              },
              screenshots: ['EcoCityScreen1.png', 'EcoCityScreen2.png', 'EcoCityScreen3.png', 'EcoCityScreen4.png'],
              links: { youtube: 'https://www.youtube.com/@nosok5050', telegram: 'https://t.me/nosok5050' }
            }
          ];

          useEffect(() => {
            const moveCursor = (e) => { setCursorPos({ x: e.clientX, y: e.clientY }); };
            window.addEventListener('mousemove', moveCursor);
            return () => window.removeEventListener('mousemove', moveCursor);
          }, []);

          useEffect(() => {
            const timer = setTimeout(() => setLoading(false), 1500);
            return () => clearTimeout(timer);
          }, []);

          const handleProjectClick = (project) => {
            setTransitionStage('diving-in');
            setTimeout(() => {
                setActiveProject(project);
                setView('project');
                setTransitionStage('idle'); 
                window.scrollTo(0,0);
            }, 600);
          };

          const handleBack = () => {
             setTransitionStage('diving-out');
             setTimeout(() => {
                setView('home');
                setActiveProject(null);
                setTransitionStage('idle');
             }, 600);
          };
          
          if (loading) return <Preloader />;

          return (
            <div className={`min-h-screen bg-[#F5F5F5] text-[#161616] font-sans overflow-x-hidden selection:bg-black selection:text-white`}>
              
              {/* NOISE & CURSOR */}
              <div className="fixed inset-0 pointer-events-none z-50 opacity-[0.03] mix-blend-overlay" 
                   style={{ backgroundImage: `url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")` }}>
              </div>

              <div className="fixed top-0 left-0 w-6 h-6 border-2 border-[#161616] rounded-full pointer-events-none z-[9999] hidden md:block transition-all duration-150 ease-out mix-blend-difference"
                style={{ transform: `translate(${cursorPos.x - 12}px, ${cursorPos.y - 12}px) scale(${cursorHovered ? 2.5 : 1})`, backgroundColor: cursorHovered ? '#fff' : 'transparent' }} />
              <div className="fixed top-0 left-0 w-2 h-2 bg-[#161616] rounded-full pointer-events-none z-[9999] hidden md:block transition-transform duration-75 ease-out"
                style={{ transform: `translate(${cursorPos.x - 4}px, ${cursorPos.y - 4}px)` }} />

              <Header view={view} onBack={handleBack} setCursorHovered={setCursorHovered} />

              <main className="relative z-10">
                {view === 'home' ? (
                  <div className={`${transitionStage === 'diving-in' ? 'animate-dive-in pointer-events-none' : 'animate-appear-zoom'}`}>
                    <Hero setCursorHovered={setCursorHovered} />
                    <ProjectStack 
                      projects={projects} 
                      onProjectClick={handleProjectClick} 
                      setCursorHovered={setCursorHovered}
                    />
                    <Footer setCursorHovered={setCursorHovered} />
                  </div>
                ) : (
                  <div className={`${transitionStage === 'diving-out' ? 'animate-dive-out pointer-events-none' : 'animate-appear-zoom'}`}>
                    <ProjectDetail 
                        project={activeProject} 
                        setCursorHovered={setCursorHovered}
                    />
                  </div>
                )}
              </main>
            </div>
          );
        };

        const Preloader = () => (
          <div className="fixed inset-0 bg-[#161616] z-[9999] flex items-center justify-center text-[#F5F5F5] flex-col">
            <div className="text-4xl md:text-6xl font-black tracking-tighter animate-pulse">ALEXSEY</div>
            <div className="mt-4 text-xs md:text-sm font-mono opacity-50">INITIALIZING PROFILE...</div>
          </div>
        );

        // --- HEADER ---
        const Header = ({ view, onBack, setCursorHovered }) => {
            return (
                <header className="fixed top-0 left-0 right-0 h-[140px] z-40 flex items-center px-6 md:px-12 pointer-events-none">
                    <div className="blur-container">
                        <div className="blur-layer"></div>
                        <div className="blur-layer"></div>
                        <div className="blur-layer"></div>
                        <div className="blur-layer"></div>
                        <div className="blur-layer"></div>
                        <div className="blur-layer"></div>
                        <div className="blur-noise"></div>
                    </div>

                    <div className="w-full flex justify-between items-center pointer-events-auto">
                        <div className="relative h-10 w-48 overflow-hidden"> 
                            <div 
                                className={`absolute inset-0 flex items-center transition-all duration-500 ease-out transform ${
                                    view === 'home' ? 'translate-y-0 opacity-100' : '-translate-y-full opacity-0'
                                }`}
                            >
                                <div 
                                    className="cursor-pointer font-bold text-xl tracking-tighter hover:opacity-50 transition-opacity"
                                    onClick={() => window.location.reload()}
                                    onMouseEnter={() => setCursorHovered(true)}
                                    onMouseLeave={() => setCursorHovered(false)}
                                >
                                    ALEXSEY.
                                </div>
                            </div>

                            <div 
                                className={`absolute inset-0 flex items-center transition-all duration-500 ease-out transform ${
                                    view === 'project' ? 'translate-y-0 opacity-100' : 'translate-y-full opacity-0'
                                }`}
                            >
                                <button 
                                    onClick={onBack}
                                    className="flex items-center gap-2 text-sm font-bold uppercase tracking-widest hover:text-gray-600 transition-colors group"
                                    onMouseEnter={() => setCursorHovered(true)}
                                    onMouseLeave={() => setCursorHovered(false)}
                                >
                                    <div className="bg-black text-white rounded-full p-1 group-hover:scale-110 transition-transform">
                                        <IconChevronLeft className="w-4 h-4" />
                                    </div>
                                    <span>All Projects</span>
                                </button>
                            </div>
                        </div>

                        <div 
                            className={`transition-all duration-500 ease-out ${
                                view === 'home' ? 'opacity-100 translate-y-0' : 'opacity-0 -translate-y-4 pointer-events-none'
                            }`}
                        >
                            <a href="mailto:alexsey.banchuk@gmail.com" 
                            className="bg-white/50 backdrop-blur-md border border-gray-200 px-6 py-2 rounded-full text-sm font-bold uppercase tracking-wider hover:bg-[#161616] hover:text-white transition-all duration-300"
                            onMouseEnter={() => setCursorHovered(true)}
                            onMouseLeave={() => setCursorHovered(false)}>
                            Get in touch
                            </a>
                        </div>
                    </div>
                </header>
            );
        };

        const Hero = ({ setCursorHovered }) => {
          return (
            <section className="min-h-[90vh] flex flex-col justify-center px-6 md:px-12 pt-32 relative overflow-hidden">
              <div className="absolute top-[-20%] right-[-10%] w-[800px] h-[800px] bg-yellow-300 rounded-full mix-blend-multiply filter blur-[100px] opacity-40 animate-blob"></div>
              <div className="absolute bottom-[-20%] left-[-10%] w-[600px] h-[600px] bg-blue-300 rounded-full mix-blend-multiply filter blur-[100px] opacity-40 animate-blob animation-delay-2000"></div>

              <div className="max-w-7xl mx-auto w-full z-10">
                <p className="text-xl md:text-2xl font-medium mb-4 opacity-0 animate-blur-in-up" style={{animationDelay: '0.1s'}}>
                  Hello, I am
                </p>
                <h1 className="text-[10vw] xl:text-[8vw] leading-[0.95] font-black tracking-tighter text-[#161616] mb-8 select-none">
                  <div className="overflow-hidden">
                    <span className="block transform opacity-0 animate-blur-in-up" style={{animationDelay: '0.2s'}}>TECHNICAL</span>
                  </div>
                  <div className="overflow-hidden">
                    <span className="block transform opacity-0 animate-blur-in-up" style={{animationDelay: '0.35s'}}>GAME DESIGNER</span>
                  </div>
                </h1>
                
                <div className="flex flex-col md:flex-row items-start md:items-center gap-8 opacity-0 animate-blur-in-up" style={{animationDelay: '0.6s'}}>
                  <p className="max-w-2xl text-lg md:text-xl text-gray-600 leading-relaxed">
                    I design engaging loops, balance economies, and build rapid prototypes that drive retention and organic growth.
                  </p>
                  
                  <div className="flex gap-4">
                     <SocialLink href="https://github.com/nosok50" icon={<IconGithub />} setCursorHovered={setCursorHovered} />
                     <SocialLink href="https://www.linkedin.com/in/alexsey-banchuk/" icon={<IconLinkedin />} setCursorHovered={setCursorHovered} />
                     <SocialLink href="https://t.me/alexsey_banch" icon={<IconSend />} setCursorHovered={setCursorHovered} />
                  </div>
                </div>
              </div>
              
              <div className="absolute bottom-10 left-1/2 -translate-x-1/2 animate-bounce opacity-30">
                <IconArrowRight className="rotate-90 w-6 h-6" />
              </div>
            </section>
          );
        };

        const SocialLink = ({ href, icon, setCursorHovered }) => (
          <a href={href} target="_blank" rel="noreferrer"
             className="w-12 h-12 flex items-center justify-center border border-[#161616]/20 rounded-full hover:bg-[#161616] hover:text-white transition-all duration-300"
             onMouseEnter={() => setCursorHovered(true)}
             onMouseLeave={() => setCursorHovered(false)}>
            {React.cloneElement(icon, { className: "w-5 h-5" })}
          </a>
        );

        // --- STYLISH TAG COMPONENT (Neutral) ---
        const Tag = ({ text }) => {
            // Removed specific color logic for a cleaner, neutral glassmorphism look
            return (
                <span className="px-3 py-1 rounded-full text-xs font-mono uppercase backdrop-blur-md border border-white/20 text-white/90 bg-black/20 hover:bg-black/30 transition-colors">
                    {text}
                </span>
            );
        };
        
        const TagDark = ({ text }) => {
            return (
                <span className="px-3 py-1 rounded-full text-xs font-mono uppercase border border-gray-200 text-gray-500 bg-white">
                    {text}
                </span>
            );
        };

        // --- BEFORE / AFTER SLIDER COMPONENT ---
        const BeforeAfterSlider = ({ beforeImage, afterImage, setCursorHovered }) => {
            const [sliderPosition, setSliderPosition] = useState(0); // Start at 0
            const containerRef = useRef(null);
            const isDragging = useRef(false);
            const isInteracted = useRef(false); // Track if user has taken control

            // Auto-animate on mount
            useEffect(() => {
                const timer = setTimeout(() => {
                    if (!isInteracted.current) {
                        setSliderPosition(33);
                    }
                }, 100);
                return () => clearTimeout(timer);
            }, []);

            const handleMove = (clientX) => {
                if (!containerRef.current) return;
                const rect = containerRef.current.getBoundingClientRect();
                const x = Math.max(0, Math.min(clientX - rect.left, rect.width));
                const percentage = (x / rect.width) * 100;
                setSliderPosition(percentage);
            };

            const onMouseMove = (e) => {
                if (isDragging.current) handleMove(e.clientX);
            };

            const onTouchMove = (e) => {
                if (isDragging.current) handleMove(e.touches[0].clientX);
            };

            const startDrag = () => { 
                isDragging.current = true; 
                isInteracted.current = true; // Stop auto-animation
            };
            const stopDrag = () => { isDragging.current = false; };

            return (
                <div 
                    className="relative w-full aspect-video rounded-3xl overflow-hidden shadow-2xl select-none cursor-ew-resize group"
                    ref={containerRef}
                    onMouseDown={startDrag}
                    onMouseUp={stopDrag}
                    onMouseLeave={stopDrag}
                    onMouseMove={onMouseMove}
                    onTouchStart={startDrag}
                    onTouchEnd={stopDrag}
                    onTouchMove={onTouchMove}
                    onMouseEnter={() => setCursorHovered(true)} 
                >
                    {/* AFTER IMAGE (Background) */}
                    <img src={afterImage} alt="After" className="absolute top-0 left-0 w-full h-full object-cover" draggable="false" />
                    <div className="absolute top-4 right-4 bg-black/50 backdrop-blur text-white px-3 py-1 rounded text-xs font-bold uppercase pointer-events-none border border-white/20">After</div>

                    {/* BEFORE IMAGE (Clipped) */}
                    <div 
                        className="absolute top-0 left-0 h-full overflow-hidden border-r-[3px] border-white slider-handle"
                        style={{ 
                            width: `${sliderPosition}%`,
                            transition: isDragging.current ? 'none' : 'width 1s cubic-bezier(0.22, 1, 0.36, 1)' 
                        }}
                    >
                        <img 
                            src={beforeImage} 
                            alt="Before" 
                            className="absolute top-0 left-0 max-w-none h-full object-cover" 
                            style={{ width: containerRef.current ? containerRef.current.offsetWidth : '100%' }} 
                            draggable="false"
                        />
                        <div className="absolute top-4 left-4 bg-black/50 backdrop-blur text-white px-3 py-1 rounded text-xs font-bold uppercase pointer-events-none border border-white/20">Before</div>
                    </div>

                    {/* HANDLE */}
                    <div 
                        className="absolute top-0 bottom-0 w-12 -ml-6 flex items-center justify-center cursor-ew-resize pointer-events-none"
                        style={{ 
                            left: `${sliderPosition}%`,
                            transition: isDragging.current ? 'none' : 'left 1s cubic-bezier(0.22, 1, 0.36, 1)' 
                        }}
                    >
                        {/* High contrast handle */}
                        <div className="w-10 h-10 bg-white rounded-full flex items-center justify-center border-2 border-black/10 relative shadow-[0_4px_12px_rgba(0,0,0,0.3)]">
                            <div className="absolute inset-0 rounded-full border border-white/50"></div>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#161616" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#161616" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" className="rotate-180"><polyline points="15 18 9 12 15 6"></polyline></svg>
                        </div>
                    </div>
                </div>
            );
        };

        const ProjectStack = ({ projects, onProjectClick, setCursorHovered }) => {
          return (
            <section className="px-6 md:px-12 py-20 bg-white rounded-t-[3rem] relative z-20 shadow-[0_-50px_100px_rgba(0,0,0,0.05)]">
              <div className="max-w-6xl mx-auto">
                <div className="flex justify-between items-end mb-24 border-b border-gray-100 pb-8">
                  <h2 className="text-5xl md:text-7xl font-bold tracking-tighter">Selected<br/>Works</h2>
                  <span className="hidden md:block text-gray-400 font-mono text-sm">(2023 — 2025)</span>
                </div>

                <div className="flex flex-col gap-32">
                  {projects.map((project, index) => (
                    <div key={project.id} 
                         className="group cursor-pointer relative"
                         onClick={() => onProjectClick(project)}
                         onMouseEnter={() => setCursorHovered(true)}
                         onMouseLeave={() => setCursorHovered(false)}>
                      
                      {/* Giant Immersive Card */}
                      <div className="relative w-full h-[60vh] md:h-[80vh] overflow-hidden rounded-[2rem] bg-gray-100 shadow-xl transition-all duration-700 hover:shadow-2xl hover:scale-[1.02]">
                         {/* Image with Parallax-like scale on hover */}
                        <img 
                          src={project.image} 
                          alt={project.title}
                          className="w-full h-full object-cover transform scale-100 group-hover:scale-110 transition-transform duration-[1.5s] ease-out"
                          onError={(e) => { e.target.style.display='none'; e.target.nextSibling.classList.remove('hidden'); e.target.nextSibling.classList.add('flex'); }} 
                        />
                        
                        {/* Fallback if image fails */}
                        <div className="hidden absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-400 items-center justify-center">
                           <span className="text-9xl font-black text-white/50">{project.title.substring(0,1)}</span>
                        </div>

                        {/* Overlay Gradient */}
                        <div className="absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent opacity-80 group-hover:opacity-90 transition-opacity duration-500"></div>

                        {/* Text Content */}
                        <div className="absolute bottom-0 left-0 w-full p-8 md:p-16 text-white transform translate-y-4 group-hover:translate-y-0 transition-transform duration-500">
                            <div className="flex justify-between items-end">
                                <div>
                                    <div className="flex gap-3 mb-4 overflow-hidden flex-wrap">
                                        {project.tags.slice(0, 3).map(tag => (
                                            <Tag key={tag} text={tag} />
                                        ))}
                                    </div>
                                    <h3 className="text-5xl md:text-8xl font-black tracking-tighter mb-2">{project.title}</h3>
                                    <p className="text-xl md:text-2xl text-white/80 font-light">{project.subtitle}</p>
                                </div>
                                
                                {/* Big Arrow Button */}
                                <div className="hidden md:flex w-24 h-24 bg-white text-black rounded-full items-center justify-center transform scale-0 group-hover:scale-100 transition-transform duration-300 origin-bottom-right">
                                    <IconArrowRight className="w-8 h-8 -rotate-45" />
                                </div>
                            </div>
                        </div>
                      </div>
                    </div>
                  ))}
                </div>
              </div>
            </section>
          );
        };

        const ProjectDetail = ({ project, setCursorHovered }) => {
          return (
            <div className="min-h-screen bg-[#F5F5F5]">
              
              <div className="max-w-7xl mx-auto px-6 md:px-12 pt-40 pb-20">
                
                {/* Title Section with ICON */}
                <div className="grid grid-cols-1 md:grid-cols-12 gap-12 mb-12">
                  <div className="md:col-span-8">
                    <div className="flex items-start gap-6 mb-6">
                        {/* PROJECT ICON */}
                        <div className="w-20 h-20 md:w-28 md:h-28 rounded-2xl overflow-hidden shadow-lg bg-white border border-gray-100 shrink-0">
                             <img 
                                src={project.logo || project.image} 
                                alt="Logo" 
                                className="w-full h-full object-cover"
                                onError={(e) => { e.target.src = project.image; }} // Fallback
                             />
                        </div>
                        <h1 className="text-5xl md:text-8xl font-black tracking-tighter leading-[0.9] mt-2">
                          {project.title.toUpperCase()}
                        </h1>
                    </div>
                    
                    <p className="text-xl md:text-2xl text-gray-600 leading-relaxed max-w-2xl">
                      {project.description}
                    </p>
                  </div>

                  <div className="md:col-span-4 flex flex-col justify-end items-start gap-4">
                    <div className="space-y-2">
                      <div className="text-xs font-mono text-gray-400 uppercase">Role</div>
                      <div className="font-bold text-lg">{project.role}</div>
                    </div>
                    <div className="space-y-2">
                      <div className="text-xs font-mono text-gray-400 uppercase">Toolkit</div>
                      <div className="flex flex-wrap gap-2">
                         {project.toolkit.map(tool => (
                           <TagDark key={tool} text={tool} />
                         ))}
                      </div>
                    </div>
                    
                    <div className="flex gap-4 mt-8">
                      {project.links?.youtube && (
                        <a href={project.links.youtube} target="_blank" className="group flex items-center gap-2 font-bold hover:text-red-600 transition-colors" onMouseEnter={() => setCursorHovered(true)} onMouseLeave={() => setCursorHovered(false)}>
                          <div className="w-10 h-10 rounded-full bg-red-100 text-red-600 flex items-center justify-center group-hover:scale-110 transition-transform"><IconPlay className="w-4 h-4" fill="currentColor" /></div> YouTube
                        </a>
                      )}
                       {project.links?.telegram && (
                        <a href={project.links.telegram} target="_blank" className="group flex items-center gap-2 font-bold hover:text-blue-600 transition-colors" onMouseEnter={() => setCursorHovered(true)} onMouseLeave={() => setCursorHovered(false)}>
                          <div className="w-10 h-10 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center group-hover:scale-110 transition-transform"><IconExternalLink className="w-4 h-4" /></div> Telegram
                        </a>
                      )}
                      {project.links?.site && (
                        <a href={project.links.site} target="_blank" className="group flex items-center gap-2 font-bold hover:text-green-600 transition-colors" onMouseEnter={() => setCursorHovered(true)} onMouseLeave={() => setCursorHovered(false)}>
                          <div className="w-10 h-10 rounded-full bg-green-100 text-green-600 flex items-center justify-center group-hover:scale-110 transition-transform"><IconGlobe className="w-4 h-4" /></div> Site
                        </a>
                      )}
                    </div>
                  </div>
                </div>

                {/* Hero Media (Slider or Image) */}
                <div className="mb-20">
                    {project.slider ? (
                        <BeforeAfterSlider 
                            beforeImage={project.slider.before} 
                            afterImage={project.slider.after} 
                            setCursorHovered={setCursorHovered} 
                        />
                    ) : (
                        <div className="w-full aspect-video bg-gray-200 rounded-3xl overflow-hidden shadow-2xl relative">
                           <img 
                              src={project.detailImage || project.image} 
                              alt="Main" 
                              className="w-full h-full object-cover"
                              onError={(e) => { e.target.style.display='none'; e.target.nextSibling.style.display='flex'; }}
                           />
                           <div className="hidden absolute inset-0 bg-gray-100 items-center justify-center text-gray-400 font-mono">Image Not Available</div>
                        </div>
                    )}
                </div>

                {/* Content */}
                <div className="grid grid-cols-1 md:grid-cols-12 gap-12 mb-20">
                  <div className="md:col-span-4">
                     <h3 className="text-2xl font-bold border-t-2 border-black pt-4">Technical Details</h3>
                  </div>
                  <div className="md:col-span-8">
                     <ul className="list-disc pl-5 space-y-4 text-lg md:text-xl text-gray-700 leading-relaxed">
                        {project.technicalDetails.map((detail, idx) => (
                            <li key={idx}>{detail}</li>
                        ))}
                     </ul>
                  </div>
                </div>

                {/* Gallery */}
                <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
                  {project.screenshots.map((shot, i) => (
                     <div key={i} className="bg-white p-2 rounded-xl shadow-lg hover:transform hover:-translate-y-2 transition-transform duration-300 cursor-zoom-in">
                       <img 
                         src={shot} 
                         alt={`Screenshot ${i}`} 
                         className="w-full h-auto rounded-lg"
                         onError={(e) => { e.target.parentElement.style.display='none'; }}
                       />
                     </div>
                  ))}
                </div>

                <div className="mt-32 border-t border-gray-300 pt-20 text-center pb-20">
                  <p className="text-gray-400 font-mono mb-4 text-sm">END OF PROJECT</p>
                  <div className="text-xl text-gray-500">Scroll up or click 'All Projects' to return</div>
                </div>

              </div>
            </div>
          );
        };

        const Footer = ({ setCursorHovered }) => {
          return (
            <footer className="bg-[#161616] text-[#F5F5F5] py-20 px-6 md:px-12 relative overflow-hidden rounded-b-[3rem] md:rounded-none mb-4 md:mb-0">
              <div className="max-w-7xl mx-auto flex flex-col items-center text-center z-10 relative">
                <h2 className="text-[12vw] font-black tracking-tighter leading-none mb-8 mix-blend-difference select-none">
                  LET'S TALK
                </h2>
                <a 
                  href="mailto:alexsey.banchuk@gmail.com" 
                  className="text-xl md:text-4xl border-b border-gray-600 pb-2 hover:text-yellow-400 hover:border-yellow-400 transition-colors mb-12 font-mono"
                  onMouseEnter={() => setCursorHovered(true)}
                  onMouseLeave={() => setCursorHovered(false)}
                >
                  alexsey.banchuk@gmail.com
                </a>
                
                <div className="flex gap-8">
                   <a href="https://github.com/nosok50" className="opacity-50 hover:opacity-100 transition-opacity uppercase font-bold tracking-widest text-sm" onMouseEnter={() => setCursorHovered(true)} onMouseLeave={() => setCursorHovered(false)}>GitHub</a>
                   <a href="https://www.linkedin.com/in/alexsey-banchuk/" className="opacity-50 hover:opacity-100 transition-opacity uppercase font-bold tracking-widest text-sm" onMouseEnter={() => setCursorHovered(true)} onMouseLeave={() => setCursorHovered(false)}>LinkedIn</a>
                   <a href="https://t.me/alexsey_banch" className="opacity-50 hover:opacity-100 transition-opacity uppercase font-bold tracking-widest text-sm" onMouseEnter={() => setCursorHovered(true)} onMouseLeave={() => setCursorHovered(false)}>Telegram</a>
                </div>
                
                <div className="mt-20 text-xs text-gray-600 font-mono">
                  © 2025 Alexsey Ban. Built with ❤️ & React.
                </div>
              </div>
              <div className="absolute bottom-[-200px] left-1/2 -translate-x-1/2 w-[600px] h-[400px] bg-blue-600/20 blur-[100px] rounded-full pointer-events-none animate-pulse" />
            </footer>
          );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<PortfolioApp />);
    </script>
</body>
</html>
